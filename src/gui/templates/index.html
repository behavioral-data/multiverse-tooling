<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GumTree</title>
    <link type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet" />
    <link type="text/css" href="/dist/monaco.css" rel="stylesheet" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body class="h-100" style="overflow: hidden;">
    <div class="container-fluid h-100">
        <div class="row">
            <div class="col">
                <div class="btn-toolbar justify-content-end">
                    <div class="btn-group mr-2" role="group" aria-label="Controls">
                        <button type="button" class="btn btn-default btn-primary toggle-mode" id="button-toggle">View Mode</button>
                    </div>
                    <div class="btn-group mr-2"><button class="btn btn-primary" id="legend"
                            data-bs-container="body" data-bs-toggle="popover" data-bs-placement="bottom"
                            data-bs-html="true"
                            data-bs-content="<span class=&quot;deleted&quot;>&nbsp;&nbsp;</span> deleted<br><span class=&quot;inserted&quot;>&nbsp;&nbsp;</span> inserted<br><span class=&quot;moved&quot;>&nbsp;&nbsp;</span> moved<br><span class=&quot;updated&quot;>&nbsp;&nbsp;</span> updated<br>">Legend</button><button
                            class="btn btn-primary btn-sm" id="shortcuts" data-bs-toggle="popover"
                            data-bs-placement="bottom" data-bs-html="true"
                            data-bs-content="<b>q</b> quit<br><b>l</b> list<br><b>t</b> top<br><b>b</b> bottom">Shortcuts</button>
                    </div>
                    <div class="btn-group"><a class="btn btn-default btn-sm btn-primary" href="/list">Back</a><a
                            class="btn btn-default btn-sm btn-danger" href="/quit">Quit</a></div>
                </div>
            </div>
        </div>
        <div class="row h-100" style="overflow: hidden;">
            <div class="col-4 h-100 sidebar" id="sidebar-left">
                <h5>{{new_universe_fname}}</h5>
                <div id="new-universe-container" style="height: calc(100% - 80px); border:1px solid grey;"></div>
            </div>
            <div class="col-4 h-100 content" id="old-template">
                <h5>{{old_template_name}}</h5>
                <div id="old-template-container" style="height: calc(100% - 80px); border:1px solid grey;"></div>
            </div>
            <div class="col-4 h-100 content" id="new-template">
                <h5>{{new_template_name}}</h5>
                <div id="new-template-container" style="height: calc(100% - 80px); border:1px solid grey;"></div>
            </div>
            <div class="col-4 h-100 sidebar collapsed" id="sidebar-right">
                <h5>Editor</h5>
                <div id="editor-container" style="height: calc(100% - 80px); border:1px solid grey;"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">/*<![CDATA[*/{{ js_config | safe}}/*]]>*/</script>
    <script type="text/javascript" src="/web/monaco-editor/min/vs/loader.js"></script>
    <script type="text/javascript" src="/dist/monaco.js"></script>
    <script type="text/javascript" src="/dist/shortcuts.js"></script>
    <script>
        $(document).ready(function () {
            $(".toggle-mode").click(function () {
                var left = $("#sidebar-left"),
                    right = $("#sidebar-right");
                left.toggleClass("collapsed");
                right.toggleClass("collapsed");

                var elem = document.getElementById("button-toggle");
                if (elem.innerText=="View Mode") elem.innerText = "Edit Mode";
                else elem.innerText = "View Mode";
                return false;
            });
        });
	</script>
</body>

</html>